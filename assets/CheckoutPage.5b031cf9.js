var A=Object.defineProperty,k=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var f=(t,a,n)=>a in t?A(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,o=(t,a)=>{for(var n in a||(a={}))N.call(a,n)&&f(t,n,a[n]);if(S)for(var n of S(a))P.call(a,n)&&f(t,n,a[n]);return t},h=(t,a)=>k(t,w(a));import{d as x,p as B,e as j,u as _,R as e,L as I}from"./vendor.32ae6308.js";import{j as J,t as L,h as i,B as c,M,e as O}from"./index.25888adf.js";const R=t=>{B();let a=j();_();const{loadingStates:n,cartState:F,authState:d}=t,[u,E]=e.useState(!1),[m,C]=e.useState([{label:"",shippingAddress:{}}]),[r,g]=e.useState({name:"",phone:"",postCode:"",thana:"",distric:"",address:""});e.useEffect(()=>{(async function(){let s=window.localStorage.getItem("shipper");s&&(g(o({},JSON.parse(s))),C([{label:s.replace("}","").replace("{",""),shippingAddress:JSON.parse(s)}]))})()},[]),e.useEffect(()=>{},[d._id]);function b(){a.goBack()}function l(s){g(h(o({},r),{[s.target.name]:s.target.value}))}async function v(s){if(!d._id)window.localStorage.setItem("shipper",JSON.stringify(r)),a.push("/auth/login/?redirect=/shopping/cart/shipping");else{let{data:p}=await O.post("/api/shipping-address",h(o({},r),{user_id:d._id}));console.log(p)}}function y(){return e.createElement("div",null,e.createElement(i,{name:"name",label:"Your Name",value:r.name,onChange:l}),e.createElement(i,{name:"phone",value:r.phone,label:"Your Mobile Number",type:"number",onChange:l}),e.createElement(i,{name:"distric",value:r.distric,label:"Distric",type:"text",onChange:l}),e.createElement(i,{name:"thana",value:r.thana,label:"Thana",type:"text",onChange:l}),e.createElement(i,{name:"postCode",value:r.postCode,label:"Post Code",type:"number",onChange:l}),e.createElement(i,{type:"textarea",value:r.address,name:"address",label:"Address",onChange:l}),e.createElement(c,{onClick:v},"Save Shipping Address"))}return e.createElement("div",{className:"container"},e.createElement("h1",{className:"t-center"},"Checkout"),e.createElement("h3",null,"Shipping Address"),m&&m.map((s,p)=>e.createElement(i,{type:"radio",name:"shipping-address",value:p,checked:!0,label:s.label})),e.createElement(c,{onClick:()=>E(!u)},"Add Another shipping address "),u&&e.createElement(M,null,y()," "),e.createElement("div",{className:"row justify-space-between"},e.createElement(c,{onClick:b},"Back to Cart "),e.createElement(I,{to:"/shopping/cart/payment"},e.createElement(c,{className:"right"},"Go to Payment"))))};function D(t){return{cartState:t.cartState,loadingStates:t.productState.loadingStates,authState:t.authState}}var H=x(D,{fetchProduct:J,toggleLoader:L})(R);export{H as default};
