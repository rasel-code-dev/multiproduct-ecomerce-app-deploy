var v=Object.defineProperty,L=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var E=(a,t,s)=>t in a?v(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,i=(a,t)=>{for(var s in t||(t={}))C.call(t,s)&&E(a,s,t[s]);if(h)for(var s of h(t))D.call(t,s)&&E(a,s,t[s]);return a},d=(a,t)=>L(a,P(t));import{d as j,p as M,e as R,u as W,R as e,L as B}from"./vendor.32ae6308.js";import{q as $}from"./index.2116ed73.js";import{v as A,t as Q,k as q,C as F,P as H,B as g,h as T,w as U,x as _,D as z,y as b}from"./index.dc753515.js";import{S as G}from"./Spin.252822fc.js";const I=a=>{M();let t=R();W(),e.useState([]);const{loadingStates:s,cartState:J}=a,[o,u]=e.useState({phone:"",email:"rasel@gmail.com",password:"123",remember:!1}),[p,y]=e.useState({message:"",phone:""});function x(){return $.parse(t.location.search)}function f(n){let{name:l,type:r,value:c,checked:m}=n.target;u(r==="checkbox"?d(i({},o),{[l]:m}):d(i({},o),{[l]:c}))}function k(n){n.preventDefault();let l=Number(o.email),r=i({},o),c={};l?(r=d(i({},r),{isNumber:!0}),c={phone:r.email,password:r.password}):(r=d(i({},r),{isNumber:!1}),c={email:r.email,password:r.password}),u(i({},r)),a.toggleLoader("login-user",!0),a.toggleAppMask(),a.login&&a.login(c,(m,K)=>{if(m&&m._id&&(a.toggleLoader("login-user",!1),a.toggleAppMask(!1),x().redirect==="dashboard")){let w=m.role==="customer"?`/customer/${m.username}`:"/auth/admin/dashboard";t.push(w)}})}function S(){return e.createElement("form",{onSubmit:k,style:{maxWidth:"800px",margin:"50px auto"},name:"basic"},e.createElement(T,{name:"email",type:"text",value:o.email,onChange:f,placeholder:"Email Or Phone",prefix:e.createElement("i",{className:"fa fa-user"}),suffix:e.createElement("div",{title:"Extra information"},e.createElement("i",{className:"far fa-info-circle",style:{color:"rgba(0,0,0,.45)"}}))}),e.createElement(U,{name:"password",value:o.password,onChange:f,placeholder:"input password",prefix:e.createElement("i",{className:"fa fa-key"}),iconRender:n=>n?e.createElement("i",{className:"fal fa-eye-slash"}):e.createElement("i",{className:"fal fa-eye"})}),e.createElement(_,{label:"Remember me",name:"remember",checked:o.remember,onChange:f}),e.createElement("h4",{className:"my-5"},"New User? ",e.createElement(B,{to:"/auth/registration"},"Registration")," "),e.createElement(g,{className:"ml-0",htmlType:"submit",type:"primary"},"Login"))}function N(n){let l=s.find(r=>r.where===n);return e.createElement("div",{className:"spin-fixed",style:{top:"20vh"}},l&&l.isLoading&&e.createElement(G,{size:20,borderWidth:4,theme:"primary"}))}return e.createElement(F,{maxWidth:1688},e.createElement("h1",{className:"text-gray-dark-gray-8 mt-5 text-2xl font-bold"},"Login Here"),N("login-user"),p.message&&e.createElement(H,{className:"error_popup p-5",style:{width:"max-content"},inProp:!0},e.createElement("div",{className:"d-flex"},e.createElement(g,{onClick:()=>y({phone:"",message:""}),type:"text",icon:"fa fa-times"}),e.createElement("h4",null,p.message))),S(),e.createElement(z,{lineColor:"#dddcdcab",text:"or"}),e.createElement(g,{type:"default",href:`${b}/api/auth/google`,icon:"fab fa-google"},"Login With Google"),e.createElement(g,{href:`${b}/api/auth/facebook`,icon:"fab fa-facebook",type:"primary"},"Login With Facebook"),e.createElement("div",{className:"row justify-space-between"},e.createElement(g,{icon:"fa fa-angle-left",ghost:!0,type:"link",to:"/cart/checkout"},"Back to checkout")))};function O(a){return{authState:a.authState,loadingStates:a.productState.loadingStates}}var te=j(O,{login:A,toggleLoader:Q,toggleAppMask:q})(I);export{te as default};
